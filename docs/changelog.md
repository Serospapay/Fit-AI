# Журнал змін проекту "Кишеньковий тренер"

## [2025-11-07] - Оптимізація експорту даних

### Додано
- Хелпер `buildDateRangeFilter` для централізованого формування умов фільтрації за датою
- Уніфікований модуль `apiResponse` з функцією `handleControllerError` для логування та відповіді на помилки контролерів

### Змінено
- Усі методи експорту (`workouts`, `nutrition`) тепер повторно використовують спільний хелпер для побудови Prisma-запитів
- Контролери бекенду переходять на спільний обробник помилок замість ручного логування

### Виправлено
- Уникнено дублювання логіки та підвищено стійкість до некоректних значень параметрів `startDate`/`endDate`
- Зменшено ризик неконсистентних повідомлень при помилках у різних контролерах

---

## [2024-11-04] - Модернізація навігації

### Додано
- Новий сучасний компонент `ModernNavbar` з адаптивним меню
- Dropdown меню для профілю та додаткових опцій
- Гамбургер меню для мобільних пристроїв
- Плавні анімації та hover ефекти

### Змінено
- Замінено стару навігацію на сучасну на всіх сторінках
- Компактніший дизайн з кращим spacing
- Покращено responsive дизайн для мобільних пристроїв
- Додано sticky позиціонування для навігації

### Видалено
- Стара навігація з великою кількістю тексту

---

## [2024-11-04] - Завершення документації та фіналізація

### Додано
- Повна документація для розробників (`docs/DEVELOPER_GUIDE.md`)
- Swagger UI інтеграція (`/api-docs`)
- JSDoc коментарі для Swagger документації у auth контролері

### Завершено
- ✅ Етап 1: Профіль користувача
- ✅ Етап 2: Аудит коду та покращення типобезпеки
- ✅ Етап 3: API документація та документація для розробників

---

## [2024-11-04] - Покращення типобезпеки та API документація

### Додано
- Створено централізований файл типів `backend/src/types/index.ts`
- Swagger/OpenAPI документація для API (`/api-docs`)
- JSDoc коментарі для Swagger у auth контролері
- Типи для всіх основних сутностей (Workout, Nutrition, Food, Profile)

### Змінено
- Покращено типобезпеку: замінено `any` на конкретні типи в критичних місцях
- Покращено обробку помилок: `error: any` → `error: unknown`
- Додано типізацію для API методів у frontend
- Оновлено `auth.controller.ts`, `nutrition.controller.ts` з правильними типами

### Виправлено
- Виправлено помилки TypeScript у frontend (dashboard, profile, nutrition, workouts)
- Виправлено типізацію для Prisma запитів у nutrition контролері
- Виправлено типізацію для ProfileUpdate

---

## [2024-11-04] - Реалізація профілю користувача

### Додано
- Backend API endpoint `PUT /api/auth/profile` для оновлення профілю
- Frontend сторінка `/profile` з формою редагування профілю
- Валідація даних профілю на backend (вік, стать, зріст, вага, рівень активності, мета)
- API методи `getProfile()` та `updateProfile()` в `frontend/app/lib/api.ts`
- Повна інтеграція з навігацією сайту

### Змінено
- Оновлено `auth.controller.ts` з функцією `updateProfile()`
- Оновлено `auth.routes.ts` з маршрутом для оновлення профілю

---

## [2024-11-04] - Покращення контрастності шрифтів та UX

### Змінено
- Підвищено контрастність шрифтів у всіх формах на темних сторінках:
  - **Калькулятори** (`/calculators`): всі лейбли та поля форми зроблено білими з високою контрастністю
  - **Створення тренування** (`/workouts/new`): всі лейбли, поля форми та select опції зроблено білими
  - **Створення запису харчування** (`/nutrition/new`): всі лейбли, поля форми та select опції зроблено білими
  - Текст у полях форми змінено на білий (#ffffff) з font-weight: 500 для кращої читабельності
  - Лейбли форм зроблено білими з font-weight: 600 та text-shadow
  - Опції select зроблено більш контрастними (білий текст на темному фоні #1a1a1a)
  - Заголовки форм зроблено більш контрастними з font-weight: 700
- Оновлено глобальні стилі форм в `globals.css` для застосування на всіх сторінках

---

## [2024-11-04] - Фінальний аудит та документація

### Додано
- Створено структуру документації в папці `docs/`
- Додано `changelog.md` - журнал змін
- Додано `tasktracker.md` - відстеження задач
- Додано `project.md` - документація архітектури проекту
- Консолідація всієї документації

### Змінено
- Об'єднано `STATUS.md` та `REALIZATION_STATUS.md` в один файл
- Оновлено `README.md` з актуальною інформацією
- Видалено зайві порожні рядки та коментарі в коді

### Видалено
- Видалено дублікати документації (`STATUS.md`, `REALIZATION_STATUS.md`)
- Видалено застарілі коментарі в коді

---

## [2024-11-01] - Реалізація щоденника харчування

### Додано
- Backend API для харчування (`nutrition.controller.ts`, `nutrition.routes.ts`)
- Backend API для продуктів (`food.controller.ts`, `food.routes.ts`)
- Frontend сторінка `/nutrition` - список записів харчування
- Frontend сторінка `/nutrition/new` - форма додавання запису
- Інтеграція з API в `frontend/app/lib/api.ts`
- Моделі Prisma: `NutritionLog`, `NutritionItem`, `Food`

### Змінено
- Оновлено схему бази даних з таблицями для харчування
- Додано індекси для оптимізації запитів

---

## [2024-10-31] - Реалізація щоденника тренувань та статистики

### Додано
- Розширена статистика тренувань з графіками
- Система досягнень (ачивки)
- Порівняння з попередніми періодами
- Графіки прогресу з Recharts
- Backend API для статистики (`getWorkoutStats`)

### Змінено
- Оновлено Dashboard з детальною аналітикою
- Покращено відображення даних на фронтенді

---

## [2024-10-30] - Базова інфраструктура

### Додано
- Налаштування Next.js 16 з TypeScript
- Backend Express API з Prisma ORM
- Підключення PostgreSQL через Docker
- Система автентифікації (JWT)
- Winston логування
- Error handling middleware
- Graceful shutdown
- База вправ з інтеграцією Wger API
- Калькулятори (ІМТ, BMR, TDEE, WHR, макроелементи, пульс, вода)

### Змінено
- Структура проекту згідно з PLAN.md

---

